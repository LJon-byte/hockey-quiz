<!DOCTYPE html>
<html lang="sv">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CHE4QXVNLE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CHE4QXVNLE');
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hockey Quiz</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    padding: 10px;
    display: flex;
    justify-content: center;
  }
  #quiz {
    background: #fff;
    padding: 15px;
    border-radius: 8px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  #progress-container {
    width: 100%;
    background: #ddd;
    border-radius: 8px;
    height: 16px;
    margin-bottom: 12px;
  }
  #progress-bar {
    width: 0%;
    height: 100%;
    background: #A9A9A9;
    border-radius: 8px;
    transition: width 0.6s ease-in-out;
  }
  #answers button {
    display: flex;
    align-items: center;
    width: 100%;
    margin: 6px 0;
    padding: 10px;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background: #eee;
    transition: background 0.3s;
    font-size: 16px;
  }
  #answers button span:first-child {
    width: 14px;
    height: 14px;
    border: 2px solid #333;
    border-radius: 50%;
    margin-right: 10px;
    flex-shrink: 0;
    transition: all 0.3s;
  }
  #feedback {
    font-weight: bold;
    margin-top: 8px;
    min-height: 20px;
  }
  #answers button:disabled {
    cursor: default;
  }
</style>
</head>
<body>

<div id="quiz">
  <div id="progress-container">
    <div id="progress-bar"></div>
  </div>
  <h3 id="question"></h3>
  <div id="answers"></div>
  <p id="feedback"></p>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const quiz = [
    { q: "Erik Källgren", a: ["Nacka HK", "Lidingö Vikings HC", "Sollentuna HC"], c: 1 },
    { q: "Robert Hägg", a: ["Almtuna IS","Team Uppsala HC","Gimo IF"], c: 2 },
    { q: "Christian Djoos", a: ["Brynäs IF", "Västra Frölunda HC", "Gävle GIK"], c: 0 },
    { q: "Michal Kempný", a: ["HC Kometa Brno","SHKM Hodonin","HC Sparta Praha"], c: 1 },
    { q: "Johannes Kinnvall", a: ["Valbo HC","IK Sätra","Ockelbo HC"], c: 1 },
    { q: "Anton Rödin", a: ["Hammarby IF","Värmdö HC","AIK"], c: 0 },
    { q: "Linus Ölund", a: ["Brynäs IF","Strömsbro IF","IK Huge"], c: 2 },
    { q: "Johan Larsson", a: ["Visby/Roma","Sudrets HC","Kiruna IF"], c: 1 },
    { q: "Jakob Silfverberg", a: ["Hille/Åbyggeby IK","Brynäs IF","IK Sätra"], c: 1 },
    { q: "Nicklas Bäckström", a: ["Brynäs IF","Sandvikens IK","Valbo AIF"], c: 2 }
  ];

  let index = 0;
  let score = 0;

  const qEl = document.getElementById("question");
  const aEl = document.getElementById("answers");
  const fEl = document.getElementById("feedback");
  const progressBar = document.getElementById("progress-bar");

  function updateProgress() {
    const percent = (index / quiz.length) * 100;
    progressBar.style.width = percent + "%";
  }

  function renderQuestion() {
    fEl.textContent = "";
    aEl.innerHTML = "";
    updateProgress();

    if (index >= quiz.length) {
      gtag('event', 'quiz_completed', {
        event_category: 'quiz',
        event_label: 'hockey_quiz',
        value: score
      });
      
      qEl.textContent = "Quiz klart!";
      progressBar.style.width = "100%";
      fEl.textContent = `Ditt resultat: ${score} av ${quiz.length} rätt.`;

      const restartBtn = document.createElement("button");
      restartBtn.textContent = "Gör om quizet";
      restartBtn.style.marginTop = "10px";
      restartBtn.style.padding = "10px";
      restartBtn.style.width = "100%";
      restartBtn.style.background = "#2196f3";
      restartBtn.style.color = "#fff";
      restartBtn.style.borderRadius = "6px";

      restartBtn.addEventListener("click", function () {
        index = 0;
        score = 0;
        progressBar.style.width = "0%";
        renderQuestion();
      });

      aEl.appendChild(restartBtn);
      return;
    }

    qEl.textContent = quiz[index].q;

    quiz[index].a.forEach((answer, i) => {
      const btn = document.createElement("button");

      const circle = document.createElement("span");
      const text = document.createElement("span");
      text.textContent = answer;

      btn.appendChild(circle);
      btn.appendChild(text);

      btn.addEventListener("click", function () {
        const buttons = aEl.querySelectorAll("button");
        const correctIndex = quiz[index].c;
        const correctText = quiz[index].a[correctIndex];

        buttons.forEach((b, idx) => {
          b.disabled = true;
          const c = b.querySelector("span:first-child");
          if (idx === correctIndex) {
            b.style.background = "#d4edda";
            c.style.background = "#28a745";
            c.style.borderColor = "#28a745";
          }
        });

        if (i === correctIndex) {
          fEl.textContent = "✅ Rätt!";
          score++;
        } else {
          btn.style.background = "#f8d7da";
          circle.style.background = "#dc3545";
          circle.style.borderColor = "#dc3545";
          fEl.textContent = `❌ Fel! Rätt svar är: ${correctText}`;
        }

        index++;
        setTimeout(renderQuestion, 1500);
      });

      aEl.appendChild(btn);
    });
  }

  renderQuestion();
});
</script>

</body>
</html>





